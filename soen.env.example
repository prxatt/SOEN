# Soen Environment Configuration
# Copy this file to .env and fill in your actual values
# Never commit .env files to version control

# ==============================================
# APPLICATION CONFIGURATION
# ==============================================
NODE_ENV=development
APP_NAME=Soen
APP_VERSION=1.0.0
APP_URL=https://soen.app
API_URL=https://api.soen.app
FRONTEND_URL=https://app.soen.com

# ==============================================
# SUPABASE CONFIGURATION
# ==============================================
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase Database Configuration
SUPABASE_DB_HOST=db.your-project-id.supabase.co
SUPABASE_DB_PORT=5432
SUPABASE_DB_NAME=postgres
SUPABASE_DB_USER=postgres
SUPABASE_DB_PASSWORD=your-db-password

# ==============================================
# MIRA AI SERVICES CONFIGURATION
# ==============================================

# OpenAI (Primary AI Service)
OPENAI_API_KEY=sk-proj-...
OPENAI_ORG_ID=org-...
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

# Google Gemini (Secondary AI Service)
GEMINI_API_KEY=AIza...
GEMINI_MODEL=gemini-2.5-flash
GEMINI_MAX_TOKENS=4000
GEMINI_TEMPERATURE=0.7

# Anthropic Claude (Alternative AI Service)
ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4000
ANTHROPIC_TEMPERATURE=0.7

# Grok (X.AI) (Alternative AI Service)
GROK_API_KEY=xai-...
GROK_MODEL=grok-beta
GROK_MAX_TOKENS=4000
GROK_TEMPERATURE=0.7

# Perplexity (Search AI Service)
PERPLEXITY_API_KEY=pplx-...
PERPLEXITY_MODEL=llama-3.1-sonar-small-128k-online
PERPLEXITY_MAX_TOKENS=4000
PERPLEXITY_TEMPERATURE=0.7

# ==============================================
# VOICE CONVERSATION SERVICES
# ==============================================

# ElevenLabs (Voice Synthesis)
ELEVENLABS_API_KEY=sk_...
ELEVENLABS_VOICE_ID=pNInz6obpgDQGcFmaJgB
ELEVENLABS_MODEL_ID=eleven_multilingual_v2
ELEVENLABS_STABILITY=0.5
ELEVENLABS_SIMILARITY_BOOST=0.5

# Deepgram (Speech Recognition)
DEEPGRAM_API_KEY=...
DEEPGRAM_MODEL=nova-2
DEEPGRAM_LANGUAGE=en-US
DEEPGRAM_ENCODING=linear16
DEEPGRAM_SAMPLE_RATE=16000

# OpenAI Realtime API (Voice Conversation)
OPENAI_REALTIME_API_KEY=sk-proj-...
OPENAI_REALTIME_MODEL=gpt-4o-realtime-preview-2024-10-01

# ==============================================
# VISION AI SERVICES
# ==============================================

# OpenAI Vision API
OPENAI_VISION_MODEL=gpt-4o-mini
OPENAI_VISION_MAX_TOKENS=4000

# Google Vision API (if using)
GOOGLE_VISION_API_KEY=AIza...
GOOGLE_VISION_PROJECT_ID=your-project-id

# ==============================================
# INTEGRATION SERVICES
# ==============================================

# Google Services (Gmail, Calendar, Drive)
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
GOOGLE_REDIRECT_URI=https://soen.app/auth/google/callback
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_CLOUD_TOPIC=gmail-notifications

# Notion Integration
NOTION_API_KEY=secret_...
NOTION_VERSION=2022-06-28
NOTION_SYNC_INTERVAL=300000

# Google Calendar Integration
GOOGLE_CALENDAR_API_KEY=AIza...
GOOGLE_CALENDAR_SYNC_INTERVAL=600000

# Google Drive Integration
GOOGLE_DRIVE_API_KEY=AIza...
GOOGLE_DRIVE_SYNC_INTERVAL=300000

# ==============================================
# SECURITY CONFIGURATION
# ==============================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Encryption Configuration
ENCRYPTION_MASTER_KEY=your-master-encryption-key-32-chars-min
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_IV_LENGTH=12

# Session Configuration
SESSION_SECRET=your-session-secret-key-minimum-32-characters
SESSION_MAX_AGE=86400000
SESSION_SECURE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict

# CORS Configuration
CORS_ORIGIN=https://soen.app,https://app.soen.com,https://localhost:3000
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ==============================================
# CLOUDFLARE WORKERS CONFIGURATION
# ==============================================

# Cloudflare Workers
CLOUDFLARE_ACCOUNT_ID=...
CLOUDFLARE_API_TOKEN=...
CLOUDFLARE_WORKER_NAME=soen-backend
CLOUDFLARE_KV_NAMESPACE_ID=...
CLOUDFLARE_R2_BUCKET_NAME=soen-user-files

# Cloudflare KV Namespaces
CLOUDFLARE_SOEN_CACHE_KV_ID=...
CLOUDFLARE_MIRA_SESSIONS_KV_ID=...
CLOUDFLARE_USER_PREFERENCES_KV_ID=...
CLOUDFLARE_RATE_LIMITS_KV_ID=...

# Cloudflare R2 Buckets
CLOUDFLARE_USER_FILES_R2_ID=...
CLOUDFLARE_MIRA_VOICE_CACHE_R2_ID=...
CLOUDFLARE_VISION_AI_CACHE_R2_ID=...
CLOUDFLARE_NOTION_SYNC_CACHE_R2_ID=...

# ==============================================
# MIRA AI CONFIGURATION
# ==============================================

# Mira AI Personality Settings
MIRA_PERSONALITY_MODES=supportive,tough_love,analytical,motivational
MIRA_VOICE_PREFERENCES=neutral,energetic,calm,professional
MIRA_DEFAULT_PERSONALITY=supportive
MIRA_DEFAULT_VOICE=neutral

# Mira AI Response Configuration
MIRA_MAX_CONVERSATION_LENGTH=50
MIRA_RESPONSE_TIMEOUT=30000
MIRA_MAX_RETRIES=3
MIRA_CONFIDENCE_THRESHOLD=0.8

# Mira AI Feature Flags
MIRA_ENABLE_VOICE_CONVERSATION=true
MIRA_ENABLE_VISION_AI=true
MIRA_ENABLE_GMAIL_INTEGRATION=true
MIRA_ENABLE_NOTION_SYNC=true
MIRA_ENABLE_CALENDAR_INTEGRATION=true

# ==============================================
# SOEN APP CONFIGURATION
# ==============================================

# User Limits
SOEN_MAX_NOTES_PER_USER=1000
SOEN_MAX_TASKS_PER_USER=500
SOEN_MAX_PROJECTS_PER_USER=100
SOEN_MAX_GOALS_PER_USER=50

# File Upload Configuration
SOEN_MAX_FILE_SIZE_MB=10
SOEN_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain
SOEN_UPLOAD_PATH=uploads

# Session Configuration
SOEN_SESSION_TIMEOUT_MINUTES=60
SOEN_BACKUP_RETENTION_DAYS=30
SOEN_NOTIFICATION_RETENTION_DAYS=30

# ==============================================
# MONITORING & ANALYTICS
# ==============================================

# Sentry (Error Monitoring)
SENTRY_DSN=https://...
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=1.0.0
SENTRY_SAMPLE_RATE=1.0

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=90
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=60000

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_SAMPLE_RATE=0.1
PERFORMANCE_THRESHOLD_MS=1000

# ==============================================
# DATABASE CONFIGURATION
# ==============================================

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# Database Query Configuration
DB_QUERY_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000

# ==============================================
# CACHE CONFIGURATION
# ==============================================

# Redis Cache (if using)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=...
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# Cache TTL Configuration
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=100
CACHE_CLEANUP_INTERVAL=300000

# ==============================================
# EMAIL CONFIGURATION
# ==============================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=...
SMTP_PASS=...

# Email Templates
EMAIL_FROM_NAME=Soen
EMAIL_FROM_ADDRESS=noreply@soen.app
EMAIL_REPLY_TO=support@soen.app

# ==============================================
# PUSH NOTIFICATIONS
# ==============================================

# Firebase Cloud Messaging
FCM_SERVER_KEY=...
FCM_PROJECT_ID=...
FCM_PRIVATE_KEY=...
FCM_CLIENT_EMAIL=...

# Web Push Notifications
VAPID_PUBLIC_KEY=...
VAPID_PRIVATE_KEY=...
VAPID_SUBJECT=mailto:support@soen.app

# ==============================================
# DEVELOPMENT CONFIGURATION
# ==============================================

# Development Settings
DEBUG_MODE=true
DEBUG_SQL_QUERIES=false
DEBUG_AI_REQUESTS=true
DEBUG_VOICE_SESSIONS=true

# Hot Reload Configuration
HOT_RELOAD_ENABLED=true
HOT_RELOAD_PORT=3001

# Test Configuration
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/soen_test
TEST_REDIS_URL=redis://localhost:6379/1

# ==============================================
# PRODUCTION CONFIGURATION
# ==============================================

# Production Settings (override in production)
# NODE_ENV=production
# DEBUG_MODE=false
# LOG_LEVEL=warn
# SENTRY_SAMPLE_RATE=0.1
# PERFORMANCE_SAMPLE_RATE=0.01

# ==============================================
# FEATURE FLAGS
# ==============================================

# Feature Toggles
FEATURE_VOICE_CONVERSATION=true
FEATURE_VISION_AI=true
FEATURE_GMAIL_INTEGRATION=true
FEATURE_NOTION_SYNC=true
FEATURE_CALENDAR_INTEGRATION=true
FEATURE_GOOGLE_DRIVE_INTEGRATION=true
FEATURE_PUSH_NOTIFICATIONS=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_ANALYTICS=true
FEATURE_AUDIT_LOGGING=true

# ==============================================
# BACKUP CONFIGURATION
# ==============================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=soen-backups
BACKUP_S3_REGION=us-east-1

# File Backup
FILE_BACKUP_ENABLED=true
FILE_BACKUP_SCHEDULE=0 3 * * *
FILE_BACKUP_RETENTION_DAYS=90

# ==============================================
# COMPLIANCE & SECURITY
# ==============================================

# GDPR Compliance
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=2555
GDPR_AUTO_DELETE_ENABLED=true

# Security Headers
SECURITY_HEADERS_ENABLED=true
SECURITY_CSP_ENABLED=true
SECURITY_HSTS_ENABLED=true

# Audit Logging
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
AUDIT_LOG_LEVEL=info

# ==============================================
# API CONFIGURATION
# ==============================================

# API Rate Limiting
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=1000
API_RATE_LIMIT_SKIP_SUCCESSFUL=false

# API Versioning
API_VERSION=v1
API_DEPRECATION_WARNING_DAYS=90

# API Documentation
API_DOCS_ENABLED=true
API_DOCS_PATH=/docs
API_DOCS_TITLE=Soen API
API_DOCS_DESCRIPTION=Soen API with Mira AI Integration

# ==============================================
# WEBHOOK CONFIGURATION
# ==============================================

# Gmail Webhook
GMAIL_WEBHOOK_SECRET=...
GMAIL_WEBHOOK_URL=https://api.soen.app/webhooks/gmail

# Notion Webhook
NOTION_WEBHOOK_SECRET=...
NOTION_WEBHOOK_URL=https://api.soen.app/webhooks/notion

# Calendar Webhook
CALENDAR_WEBHOOK_SECRET=...
CALENDAR_WEBHOOK_URL=https://api.soen.app/webhooks/calendar

# ==============================================
# CRON JOBS CONFIGURATION
# ==============================================

# Cron Job Schedules
CRON_DAILY_BRIEFING=0 7 * * *
CRON_HOURLY_RESET=0 * * * *
CRON_DAILY_CLEANUP=0 0 * * *
CRON_DAILY_BACKUP=0 2 * * *
CRON_WEEKLY_ANALYTICS=0 6 * * 1
CRON_MONTHLY_INSIGHTS=0 0 1 * *

# ==============================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# ==============================================

# Development Environment
# NODE_ENV=development
# DEBUG_MODE=true
# LOG_LEVEL=debug
# SENTRY_SAMPLE_RATE=1.0

# Staging Environment
# NODE_ENV=staging
# DEBUG_MODE=true
# LOG_LEVEL=info
# SENTRY_SAMPLE_RATE=0.5

# Production Environment
# NODE_ENV=production
# DEBUG_MODE=false
# LOG_LEVEL=warn
# SENTRY_SAMPLE_RATE=0.1
# PERFORMANCE_SAMPLE_RATE=0.01
